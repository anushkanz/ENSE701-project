(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{5615:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return s(6738)}])},6738:function(e,r,s){"use strict";s.r(r);var t=s(5893),a=s(7294),l=s(1955),i=s(1664),d=s.n(i),n=s(1163);r.default=()=>{let e=(0,n.useRouter)(),[r,s]=(0,a.useState)([]),[i,c]=(0,a.useState)(!0),[o,x]=(0,a.useState)(""),[h,p]=(0,a.useState)(null);(0,a.useEffect)(()=>{""===l.Z.get("token")&&e.push("/")},[e]),(0,a.useEffect)(()=>{g()},[]);let g=async()=>{if(l.Z.get("token")){console.log(l.Z.get("token"));try{var e;let r=await fetch("http://localhost:8082/api/articles",{method:"GET"});if(!r.ok)throw Error("Network response was not ok.");let t=await r.json();s(t);let a=null!==(e=l.Z.get("type"))&&void 0!==e?e:"";x(a),c(!1)}catch(e){e instanceof Error?p(e.message):p("An unexpected error occurred"),c(!1)}}};return(0,t.jsx)("div",{className:"space-y-12",children:(0,t.jsx)("div",{className:"pb-12",children:i?(0,t.jsx)("div",{className:"absolute top-1/2 left-1/2 -mt-4 -ml-2 h-8 w-4 text-indigo-700"}):h?(0,t.jsxs)("p",{children:["Error: ",h]}):(0,t.jsx)("div",{className:"container mx-auto px-4 sm:px-8",children:(0,t.jsxs)("div",{className:"py-8",children:[(0,t.jsxs)("div",{className:"flex space-x-2 space-y-2 flex-wrap justify-left items-baseline",children:[(0,t.jsx)("h3",{className:"my-4 text-2xl font-semibold text-gray-700",children:"Dashboard"}),(0,t.jsx)("a",{href:"/articles/new",className:"rounded-lg px-4 py-2 bg-green-700 text-green-100 hover:bg-green-800 duration-300",children:"New Articles"}),(0,t.jsx)("a",{href:"/articles/search",className:"rounded-lg px-4 py-2 bg-green-700 text-green-100 hover:bg-green-800 duration-300",children:"Search Articles"}),(0,t.jsx)("a",{href:"/logout",className:"rounded-lg px-4 py-2 bg-red-700 text-green-100 hover:bg-red-800 duration-300",children:"Logout"})]}),(0,t.jsx)("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto",children:(0,t.jsx)("div",{className:"inline-block min-w-full shadow-md rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"min-w-full leading-normal",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Title"}),(0,t.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Authors"}),(0,t.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Source"}),(0,t.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100"}),(0,t.jsx)("th",{className:"px-5 py-3 border-b-2 border-gray-200 bg-gray-100"})]})}),(0,t.jsx)("tbody",{children:null==r?void 0:r.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:(0,t.jsx)("div",{className:"flex",children:(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 whitespace-no-wrap",children:e._id})]})})}),(0,t.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:(0,t.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:e.authors})}),(0,t.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:(0,t.jsx)("p",{className:"text-gray-900 whitespace-no-wrap",children:e.source})}),(0,t.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm",children:"1"===e.status?(0,t.jsxs)("span",{className:"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight",children:[(0,t.jsx)("span",{"aria-hidden":!0,className:"absolute inset-0 bg-green-200 opacity-50 rounded-full"}),(0,t.jsx)("span",{className:"relative",children:"Active"})]}):(0,t.jsxs)("span",{className:"relative inline-block px-3 py-1 font-semibold text-orange-900 leading-tight",children:[(0,t.jsx)("span",{"aria-hidden":!0,className:"absolute inset-0 bg-orange-200 opacity-50 rounded-full"}),(0,t.jsx)("span",{className:"relative",children:"Not Active"})]})}),(0,t.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm text-right",children:"1"===o?(0,t.jsx)(d(),{href:{pathname:"articles/view/[id]",query:{id:e._id}},children:"View"}):(0,t.jsx)(d(),{href:{pathname:"articles/status/[id]",query:{id:e._id}},children:"Change Status"})}),(0,t.jsx)("td",{className:"px-5 py-5 border-b border-gray-200 bg-white text-sm text-right",children:"1"!==o?(0,t.jsx)(d(),{href:{pathname:"articles/edit/[id]",query:{id:e._id}},children:"Edit"}):(0,t.jsx)(t.Fragment,{})})]},e._id))})]})})})]})})})})}}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=5615)}),_N_E=e.O()}]);